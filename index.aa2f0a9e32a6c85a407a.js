/*! For license information please see index.aa2f0a9e32a6c85a407a.js.LICENSE.txt */
!function(){var t={91:function(t){"use strict";t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),e.hash&&(t+=e.hash),e.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(t)?'"'.concat(t,'"'):t):t}},687:function(t,e,n){"use strict";t.exports=n.p+"assets/img/favicon.ico"},61:function(t,e,n){var r=n(698).default;function a(){"use strict";t.exports=a=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},n=Object.prototype,i=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",f=s.toStringTag||"@@toStringTag";function l(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{l({},"")}catch(t){l=function(t,e,n){return t[e]=n}}function p(t,e,n,r){var a=e&&e.prototype instanceof v?e:v,i=Object.create(a.prototype),s=new j(r||[]);return o(i,"_invoke",{value:_(t,n,s)}),i}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=p;var d={};function v(){}function m(){}function g(){}var b={};l(b,c,(function(){return this}));var y=Object.getPrototypeOf,w=y&&y(y(E([])));w&&w!==n&&i.call(w,c)&&(b=w);var x=g.prototype=v.prototype=Object.create(b);function L(t){["next","throw","return"].forEach((function(e){l(t,e,(function(t){return this._invoke(e,t)}))}))}function k(t,e){function n(a,o,s,c){var u=h(t[a],t,o);if("throw"!==u.type){var f=u.arg,l=f.value;return l&&"object"==r(l)&&i.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(l).then((function(t){f.value=t,s(f)}),(function(t){return n("throw",t,s,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,a){n(t,r,e,a)}))}return a=a?a.then(i,i):i()}})}function _(t,e,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return{value:void 0,done:!0}}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=C(o,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=h(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function C(t,e){var n=e.method,r=t.iterator[n];if(void 0===r)return e.delegate=null,"throw"===n&&t.iterator.return&&(e.method="return",e.arg=void 0,C(t,e),"throw"===e.method)||"return"!==n&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+n+"' method")),d;var a=h(r,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,d;var i=a.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function E(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return r.next=r}}return{next:S}}function S(){return{value:void 0,done:!0}}return m.prototype=g,o(x,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:m,configurable:!0}),m.displayName=l(g,f,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,l(t,f,"GeneratorFunction")),t.prototype=Object.create(x),t},e.awrap=function(t){return{__await:t}},L(k.prototype),l(k.prototype,u,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new k(p(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},L(x),l(x,f,"Generator"),l(x,c,(function(){return this})),l(x,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=E,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return o.type="throw",o.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(s&&c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;P(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:E(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports},698:function(t){function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},144:function(t,e,n){var r=n(61)();t.exports=r;try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.m=t,n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&!t;)t=r[a--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t}(),n.b=document.baseURI||self.location.href,function(){"use strict";var t=n(91),e=n.n(t),r=new URL(n(687),n.b);function a(t,e,n,r,a,i,o){try{var s=t[i](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,a)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){a(o,r,i,s,c,"next",t)}function c(t){a(o,r,i,s,c,"throw",t)}s(void 0)}))}}e()(r);var o=n(144),s=n.n(o);function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function f(t){var e=function(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,"string");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"===u(e)?e:String(e)}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f(r.key),r)}}function p(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function h(t,e,n){return(e=f(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function v(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}var m=function(t){var e,n,r=t.tag,a=t.classList,i=t.attributes,o=t.innerText,s=document.createElement(r);return a&&(Array.isArray(a)?(e=s.classList).add.apply(e,function(t){if(Array.isArray(t))return d(t)}(n=a)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||v(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()):s.classList.add(a)),i&&Object.entries(i).forEach((function(t){s.setAttribute(t[0],t[1])})),o&&(s.innerText=o),s};function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t,e){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},b(t,e)}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}function w(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return g(t)}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}var L=function(){function t(e){c(this,t),h(this,"store",void 0),this.store=e}return p(t,[{key:"page",get:function(){return this.store.page},set:function(t){this.store.page=t}},{key:"pages",get:function(){return this.store.pages}},{key:"items",get:function(){return this.store.items},set:function(t){this.store.items=t,this.store.pages=Math.ceil(this.store.items/this.store.limit)}},{key:"limit",get:function(){return this.store.limit}}]),t}();var k=function(t){y(a,t);var e,n,r=(e=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=x(e);if(n){var a=x(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return w(this,t)});function a(){return c(this,a),r.call(this,{page:1,limit:7,data:[],pages:1,items:0})}return p(a,[{key:"params",get:function(){return{page:this.store.page,limit:this.store.limit}}},{key:"data",get:function(){return this.store.data},set:function(t){this.store.data=t}}]),a}(L),_=function(t){return t.garage="garage",t.winners="winners",t}({}),C=function(t){return t.number="number",t.car="car",t.name="name",t.wins="wins",t.time="time",t}({}),O=function(t){return t.id="id",t.wins="wins",t.time="time",t}({}),P=function(t){return t.asc="ASC",t.desc="DESC",t}({}),j=function(t){return t.start="started",t.stop="stopped",t.drive="drive",t}({}),E=function(t){return t.audi="Audi",t.bmw="BMW",t.skoda="Skoda",t.fiat="Fiat",t.renault="Renault",t.mercedes="Mercedes",t.nissan="Nissan",t.toyota="Toyota",t.kia="Kia",t.jaguar="Jaguar",t.ford="Ford",t.chevrolet="Chevrolet",t.vw="VW",t.tesla="Tesla",t.subaru="Subaru",t}({}),S=function(t){return t.modelS="Model S",t.a6quattro="A6 Quattro",t.m5="M5",t.punto="Punto",t.megan="Megan",t.gt53="GT 53",t.leaf="Leaf",t.corolla="Corolla",t.impreza="Impreza",t.rio="Rio",t.fType="F-Type",t.focus="Focus",t.camarro="Camarro",t.passat="Passat",t.octavia="Octavia",t}({}),T=function(t){return t.first="pagination__button_first",t.prev="pagination__button_prev",t.next="pagination__button_next",t.last="pagination__button_last",t}({});var A=function(t){y(a,t);var e,n,r=(e=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=x(e);if(n){var a=x(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return w(this,t)});function a(){return c(this,a),r.call(this,{page:1,limit:10,data:[],pages:1,items:0,sort:O.id,order:P.asc})}return p(a,[{key:"params",get:function(){return{page:this.store.page,limit:this.store.limit,sort:this.store.sort,order:this.store.order}}},{key:"data",get:function(){return this.store.data},set:function(t){this.store.data=t}},{key:"sort",get:function(){return this.store.sort},set:function(t){this.store.sort=t}},{key:"order",get:function(){return this.store.order},set:function(t){this.store.order=t}}]),a}(L),R=new(function(){function t(){c(this,t),h(this,"garageStore",new k),h(this,"winnersStore",new A)}return p(t,[{key:"garage",get:function(){return this.garageStore}},{key:"winners",get:function(){return this.winnersStore}}]),t}()),I=function(t,e){t.classList.add("opacity-zero"),setTimeout((function(){e(),t.classList.remove("opacity-zero")}),150)},B=function(t){return"".concat(t[0].toUpperCase()).concat(t.slice(1).toLowerCase())},N=function(){function t(e){c(this,t),h(this,"heading",m({tag:"h3",classList:"counter",innerText:"Cars: "})),h(this,"counter",m({tag:"span",classList:"counter__value"})),h(this,"tabName",void 0),this.tabName=e,this.init()}return p(t,[{key:"update",value:function(){var t=this;I(this.counter,(function(){t.counter.textContent=R[t.tabName].items.toString()}))}},{key:"init",value:function(){this.heading.append(this.counter),this.update()}}]),t}(),F=function(t,e){return m({tag:"button",classList:["pagination__button",t],innerText:e})},M=function(){function t(e){c(this,t),h(this,"container",m({tag:"nav",classList:"pagination"})),h(this,"tabName",void 0),h(this,"counter",m({tag:"span",classList:"pagination__counter"})),h(this,"firstPage",F(T.first,"<<")),h(this,"prevPage",F(T.prev,"<")),h(this,"nextPage",F(T.next,">")),h(this,"lastPage",F(T.last,">>")),this.tabName=e,this.container.append(this.firstPage,this.prevPage,this.counter,this.nextPage,this.lastPage)}return p(t,[{key:"updateArrows",value:function(){var t=R[this.tabName],e=t.page,n=t.pages,r=1===e,a=e===n;this.firstPage.toggleAttribute("disabled",r||0===n),this.prevPage.toggleAttribute("disabled",r||0===n),this.nextPage.toggleAttribute("disabled",a||0===n),this.lastPage.toggleAttribute("disabled",a||0===n)}},{key:"update",value:function(){var t=this;I(this.counter,(function(){t.counter.innerText="".concat(R[t.tabName].page)})),this.updateArrows()}}]),t}(),D=p((function t(e){c(this,t),h(this,"tabInput",void 0),h(this,"tabItem",void 0),h(this,"tabName",void 0),h(this,"tabContent",void 0),h(this,"carsCounter",void 0),h(this,"name",void 0),h(this,"pagination",void 0),this.pagination=new M(e),this.name=e,this.tabInput=m({tag:"input",classList:"tabs-input",attributes:{id:e,type:"radio",name:"pages"}}),this.tabItem=m({tag:"li",classList:["tabs-nav__list__item","".concat(e,"-tab")]}),this.tabName=m({tag:"label",classList:"tabs-nav__label",attributes:{for:e},innerText:B(e)}),this.tabContent=m({tag:"article",classList:"".concat(e,"-tab")}),this.carsCounter=new N(e),e===_.garage&&this.tabInput.setAttribute("checked",""),this.tabContent.append(this.carsCounter.heading),this.tabItem.append(this.tabName)}));function G(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,i,o,s=[],c=!0,u=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);c=!0);}catch(t){u=!0,a=t}finally{try{if(!c&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(t,e)||v(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var U=function(t){return m({tag:"th",classList:["winners-table__heading","winners-table__heading_".concat(t)],innerText:t===C.number?"#":B(t)})},z=function(){function t(){var e=this;c(this,t),h(this,"element",m({tag:"thead",classList:"winners-table__header"})),h(this,"headings",{wins:U(C.wins),time:U(C.time)}),h(this,"orders",{wins:P.asc,time:P.asc});var n=Object.values(C),r=m({tag:"tr"});n.forEach((function(t){var n=U(t);if(t===C.time||t===C.wins){n.dataset.name=t,e.headings[t]=n;var a=m({tag:"div",classList:"sort-arrows"});n.append(a)}r.append(n)})),this.element.append(r)}return p(t,[{key:"container",get:function(){return this.element}},{key:"setOrder",value:function(t,e){this.orders[t]=e}},{key:"update",value:function(t){Object.entries(this.headings).forEach((function(e){var n=G(e,2),r=n[0],a=n[1];r!==t&&a.removeAttribute("data-order")}))}}]),t}();var V=new(function(t){y(a,t);var e,n,r=(e=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=x(e);if(n){var a=x(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return w(this,t)});function a(){var t;return c(this,a),h(g(t=r.call(this,_.winners)),"element",m({tag:"table",classList:"winners-table"})),h(g(t),"items",[]),h(g(t),"tableBody",m({tag:"tbody",classList:"winners-table__body"})),h(g(t),"header",new z),t.table.append(t.header.container,t.tableBody),t.tabContent.append(t.table,t.pagination.container),t}return p(a,[{key:"table",get:function(){return this.element}},{key:"drawBodyContent",value:function(){var t=this;R.winners.data.forEach((function(e,n){var r=function(t,e){var n=Object.values(C),r=m({tag:"tr"});return n.forEach((function(n){var a=m({tag:"td",classList:["winners-table__cell","winners-table__cell_".concat(n)]});switch(n){case"number":a.textContent="".concat(t);break;case"car":e.color&&(a.style.backgroundColor=e.color);break;case"time":a.textContent="".concat(e.time);break;case"wins":a.textContent="".concat(e.wins);break;case"name":e.name&&(a.textContent="".concat(e.name))}r.append(a)})),r}(10*(R.winners.page-1)+(n+1),e);t.items.push(r),t.tableBody.append(r)}))}},{key:"clear",value:function(){this.items.forEach((function(t){return t.remove()})),this.items=[]}},{key:"update",value:function(){var t=this;this.clear(),this.carsCounter.update(),this.pagination.update(),I(this.tableBody,(function(){return t.drawBodyContent()}))}}]),a}(D)),W=function(){function t(){c(this,t),h(this,"form",m({tag:"form",classList:"car-form"})),h(this,"nameInput",m({tag:"input",classList:"car-form__name-input",attributes:{type:"text"}})),h(this,"colorPicker",m({tag:"input",classList:"car-form__color-picker",attributes:{type:"color"}})),h(this,"button",m({tag:"button",classList:"car-form__button"})),this.clearInputs(),this.form.append(this.nameInput,this.colorPicker,this.button)}return p(t,[{key:"clearInputs",value:function(){this.nameInput.value="",this.colorPicker.value="#ffffff"}}]),t}();var X=function(t){y(a,t);var e,n,r=(e=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=x(e);if(n){var a=x(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return w(this,t)});function a(){var t;return c(this,a),(t=r.call(this)).button.innerText="Create",t.nameInput.placeholder="Enter car name",t}return p(a)}(W);var $=function(t){y(a,t);var e,n,r=(e=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=x(e);if(n){var a=x(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return w(this,t)});function a(){var t;return c(this,a),h(g(t=r.call(this)),"car",null),t.button.innerText="Edit",t.disable(),t}return p(a,[{key:"activate",value:function(t){this.car=t,this.nameInput.removeAttribute("disabled"),this.colorPicker.removeAttribute("disabled"),this.nameInput.value=t.name,this.colorPicker.value=t.color,this.button.removeAttribute("disabled")}},{key:"disable",value:function(){this.car=null,this.nameInput.setAttribute("disabled",""),this.colorPicker.setAttribute("disabled",""),this.button.setAttribute("disabled",""),this.clearInputs()}}]),a}(W),J=p((function t(){c(this,t),h(this,"start",m({tag:"button",classList:["car-button","car-button_start"],innerText:"D"})),h(this,"stop",m({tag:"button",classList:["car-button","car-button_stop"],attributes:{disabled:""},innerText:"P"})),h(this,"edit",m({tag:"button",classList:["car-button","car-button_edit"],innerText:"Edit"})),h(this,"delete",m({tag:"button",classList:["car-button","car-button_delete"],innerText:"Delete"}))})),H=function(){function t(e){c(this,t),h(this,"container",m({tag:"div",classList:"car-track"})),h(this,"carImage",m({tag:"div",classList:"car-img"})),h(this,"carAnimation",null),this.setCarColor(e),this.container.append(this.carImage)}var e;return p(t,[{key:"setCarColor",value:function(t){this.carImage.style.backgroundColor=t}},{key:"animateCar",value:(e=i(s().mark((function t(e){var n,r,a,i,o=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.container.offsetWidth-this.carImage.offsetWidth,r=1e3/this.container.offsetWidth,a=n/e*r*1e3,i=[{transform:"translateX(0)"},{transform:"translateX(".concat(n,"px)")}],this.carAnimation=this.carImage.animate(i,a),t.abrupt("return",Promise.resolve(this.carAnimation.finished).then((function(){if(o.carImage.style.transform="translateX(".concat(n,"px)"),o.carAnimation&&o.carAnimation.currentTime){var t=+o.carAnimation.currentTime;return parseFloat((t/1e3).toFixed(2))}})).catch((function(){})));case 7:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"stopCarAnimation",value:function(){var t;null===(t=this.carAnimation)||void 0===t||t.pause()}},{key:"reset",value:function(){var t=this;I(this.carImage,(function(){var e;null===(e=t.carAnimation)||void 0===e||e.cancel(),t.carImage.style.transform="translateX(0)",t.carAnimation=null}))}}]),t}(),Q=H,Y=function(){function t(e){c(this,t),h(this,"data",void 0),h(this,"track",void 0),h(this,"buttons",new J),h(this,"status",j.stop),h(this,"carInfo",m({tag:"div",classList:"car-info"})),h(this,"carUI",m({tag:"div",classList:"car-ui"})),h(this,"carInterface",m({tag:"div",classList:"car-interface"})),h(this,"carName",m({tag:"span",classList:"car-name"})),h(this,"container",m({tag:"li",classList:"cars-list__item"})),h(this,"abortController",new AbortController),this.data=e,this.carName.textContent=this.data.name,this.track=new Q(this.data.color),this.carInfo.append(this.buttons.edit,this.buttons.delete,this.carName),this.carInterface.append(this.buttons.start,this.buttons.stop),this.carUI.append(this.carInterface,this.track.container),this.container.append(this.carInfo,this.carUI)}return p(t,[{key:"id",get:function(){return this.data.id}},{key:"color",get:function(){return this.data.color},set:function(t){this.data.color=t,this.track.setCarColor(this.data.color)}},{key:"name",get:function(){return this.data.name},set:function(t){var e=this;this.data.name!==t&&(this.data.name=t,I(this.carName,(function(){e.carName.textContent=e.data.name})))}},{key:"setStatus",value:function(t){this.status=t}}]),t}(),q=function(){function t(){c(this,t),h(this,"container",m({tag:"ul",classList:"cars-list"})),h(this,"items",[]),this.updateCarsList()}return p(t,[{key:"clear",value:function(){this.items.forEach((function(t){return t.container.remove()})),this.items=[]}},{key:"drawItem",value:function(t){var e=new Y(t);this.items.push(e),this.container.append(e.container)}},{key:"updateCarsList",value:function(){var t=this;I(this.container,(function(){t.clear(),R.garage.data.forEach((function(e){t.drawItem(e)}))}))}}]),t}();var K=new(function(t){y(a,t);var e,n,r=(e=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=x(e);if(n){var a=x(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return w(this,t)});function a(){var t;return c(this,a),h(g(t=r.call(this,_.garage)),"createCarForm",new X),h(g(t),"editCarForm",new $),h(g(t),"carsList",new q),h(g(t),"garageButtons",m({tag:"div",classList:"garage-buttons-container"})),h(g(t),"generateCarsButton",m({tag:"button",classList:"generate-cars-button",innerText:"Generate Cars"})),h(g(t),"startRaceButton",m({tag:"button",classList:"start-race-button",innerText:"Race"})),h(g(t),"resetRaceButton",m({tag:"button",classList:"reset-race-button",innerText:"Reset"})),t.garageButtons.append(t.startRaceButton,t.resetRaceButton,t.generateCarsButton),t.tabContent.append(t.createCarForm.form,t.editCarForm.form,t.garageButtons,t.carsList.container,t.pagination.container),t}return p(a,[{key:"update",value:function(){this.carsList.updateCarsList(),this.pagination.update()}}]),a}(D)),Z=p((function t(){c(this,t),h(this,"container",m({tag:"main",classList:"main"})),h(this,"navigation",m({tag:"nav",classList:"tabs-nav"})),h(this,"tabsContainer",m({tag:"section",classList:"tabs-wrapper"}));var e=m({tag:"ul",classList:"tabs-nav__list"});e.append(K.tabItem,V.tabItem),this.tabsContainer.append(K.tabContent,V.tabContent),this.navigation.append(e),this.container.append(K.tabInput,V.tabInput,this.navigation,this.tabsContainer)})),tt=function(){var t=m({tag:"footer",classList:"footer"}),e=m({tag:"a",classList:"rs-logo",attributes:{href:"https://rs.school/js/",target:"__blank",title:"RS School JS Course"}}),n=function(){var t=m({tag:"div",classList:"author"}),e=m({tag:"div"}),n=m({tag:"span",innerText:"Made by"}),r=m({tag:"a",classList:"author__github",innerText:"CarphatianSnake",attributes:{href:"https://github.com/CarphatianSnake/",name:"CarphatianSnake Github",target:"__blank"}}),a=m({tag:"div",innerText:"2023"});return e.append(n),e.append(r),t.append(e),t.append(a),t}();return t.append(e),t.append(n),t},et=function(){function t(){c(this,t),h(this,"appView",m({tag:"div",classList:"wrapper"})),h(this,"main",new Z)}return p(t,[{key:"init",value:function(){this.appView.append(function(){var t=m({tag:"header",classList:"header"}),e=m({tag:"h1",classList:"header__heading",innerText:"Async Race"});return t.append(e),t}()),this.appView.append(this.main.container),this.appView.append(tt()),document.body.append(this.appView),V.update(),K.update()}}]),t}(),nt=function(){var t=i(s().mark((function t(e,n){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("".concat("http://127.0.0.1:3000/").concat(e),n));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),rt=nt,at=function(t,e){return{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}},it=function(){var t=i(s().mark((function t(e,n){var r,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=at("POST",n),t.next=3,rt(e,r);case 3:return a=t.sent,t.abrupt("return",a.json());case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),ot=it,st=function(t){return ot(_.garage,t)},ct=function(t){return Math.floor(Math.random()*(t+1))},ut=function(){return ct(255).toString(16).padStart(2,"0")},ft=function(){for(var t=[],e=0;e<100;e+=1){var n=Object.values(E),r=Object.values(S),a=n[ct(n.length-1)],i=r[ct(r.length-1)],o={name:"".concat(a," ").concat(i),color:(s=void 0,c=void 0,u=void 0,s=ut(),c=ut(),u=ut(),"#".concat(s).concat(c).concat(u))};t.push(o)}var s,c,u;return t},lt=function(){var t=i(s().mark((function t(e){var n,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object.entries(R[e].params).reduce((function(t,e){var n=G(e,2),r=n[0],a=n[1];if(a){var i=t?"&":"?";return"".concat(t).concat(i,"_").concat(r,"=").concat(a)}return t}),""),r="".concat(e).concat(n),t.abrupt("return",rt(r).then((function(t){var n=Number(t.headers.get("X-Total-Count"));if(R[e].items=n,!t.ok)throw new Error;return t.json()})).catch((function(){return[]})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),pt=lt;function ht(){return(ht=i(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pt(_.garage);case 2:e=t.sent,R.garage.data=e;case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var dt=function(){return ht.apply(this,arguments)};function vt(){return(vt=i(s().mark((function t(){var e;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=ft(),t.next=3,Promise.allSettled(e.map((function(t){return st(t)})));case 3:return t.next=5,dt();case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var mt=function(){return vt.apply(this,arguments)};function gt(t,e,n){return gt=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct.bind():function(t,e,n){var r=[null];r.push.apply(r,e);var a=new(Function.bind.apply(t,r));return n&&b(a,n.prototype),a},gt.apply(null,arguments)}function bt(t){var e="function"==typeof Map?new Map:void 0;return bt=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return gt(t,arguments,x(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),b(r,t)},bt(t)}var yt=function(t){y(a,t);var e,n,r=(e=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=x(e);if(n){var a=x(this).constructor;t=Reflect.construct(r,arguments,a)}else t=r.apply(this,arguments);return w(this,t)});function a(t,e,n){var i;return c(this,a),h(g(i=r.call(this,t)),"status",void 0),h(g(i),"statusText",void 0),i.status=e,i.statusText=n,i}return p(a)}(bt(Error)),wt=function(){var t=i(s().mark((function t(e,n){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,rt("".concat(e,"/").concat(n));case 2:if((r=t.sent).ok){t.next=5;break}throw new yt("Error",r.status,r.statusText);case 5:return t.abrupt("return",r.json());case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),xt=wt,Lt=function(){var t=i(s().mark((function t(e,n){var r,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r="".concat(e,"/").concat(n),a={method:"DELETE"},t.next=4,rt(r,a);case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),kt=Lt,_t=function(){var t=i(s().mark((function t(e,n,r){var a,i,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="".concat(e,"/").concat(n),i=at("PUT",r),t.next=4,rt(a,i);case 4:return o=t.sent,t.abrupt("return",o.json());case 6:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),Ct=_t,Ot=function(t){return kt(_.garage,t)};function Pt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pt(Object(n),!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Et(){return Et=i(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,pt(_.winners).then(function(){var t=i(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.allSettled(e.map(function(){var t=i(s().mark((function t(e){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(n=e.id,xt(_.garage,n)).then((function(t){return t?jt(jt({},e),{},{color:t.color,name:t.name}):e})));case 1:case"end":return t.stop()}var n}),t)})));return function(e){return t.apply(this,arguments)}}())).then((function(t){var e=[];t.forEach((function(t){"fulfilled"===t.status&&e.push(t.value)})),R.winners.data=e})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)}))),Et.apply(this,arguments)}var St=function(){return Et.apply(this,arguments)},Tt=function(t){return kt(_.winners,t)},At=function(){var t=i(s().mark((function t(e,n,r){var a,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="engine?id=".concat(e,"&status=").concat(n),i={method:"PATCH"},r&&(i.signal=r),t.abrupt("return",rt(a,i).then((function(t){if(500===t.status&&n===j.drive)throw new yt("Engine broken",t.status,t.statusText);return t.json()})));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),Rt=At,It=j.start,Bt=j.stop,Nt=j.drive,Ft=function(t){return t instanceof HTMLElement};function Mt(){return(Mt=i(s().mark((function t(e,n,r){var a,i,o,c,u,f,l,p,h;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.target,i=e.currentTarget,o=T.first,c=T.prev,u=T.next,f=T.last,l=a!==V.pagination.counter&&a!==K.pagination.counter,p=R[n].page<=R[n].pages,h=a!==i,!(Ft(a)&&l&&p&&h)){t.next=12;break}return a.classList.contains(u)&&(R[n].page+=1),a.classList.contains(c)&&R[n].page>0&&(R[n].page-=1),a.classList.contains(o)&&(R[n].page=1),a.classList.contains(f)&&(R[n].page=R[n].pages),t.next=12,r();case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Dt=function(t,e,n){return Mt.apply(this,arguments)},Gt=function(){var t=i(s().mark((function t(e){var n,r,a,i,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=K.carsList,r=K.carsCounter,a=K.pagination,!(i=n.items.find((function(t){return t.buttons.delete===e})))){t.next=12;break}return o=i.id,n.items.length<=1&&R.garage.data.length>1&&(R.garage.page-=1),t.next=7,Ot(o).then(dt);case 7:return t.next=9,Tt(o).then(St);case 9:n.updateCarsList(),r.update(),a.update();case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Ut=Gt,zt=function(t){var e;if(t&&t.status===j.stop)return t.buttons.stop.removeAttribute("disabled"),t.buttons.start.setAttribute("disabled",""),(e=t.id,Rt(e,It,undefined)).then((function(e){if(t.status===j.stop){var n=t.track.animateCar(e.velocity);return t.setStatus(j.drive),function(t,e){return Rt(t,Nt,e)}(t.id,t.abortController.signal).catch((function(e){500===e.status&&t.track.stopCarAnimation()})),n}})).then((function(e){return{id:t.id,name:t.name,time:e}}))},Vt=function(t){var e;t&&t.status===j.drive&&(t.buttons.start.removeAttribute("disabled"),t.buttons.stop.setAttribute("disabled",""),t.buttons.stop.setAttribute("disabled",""),t.setStatus(j.stop),(e=t.id,Rt(e,Bt,undefined)).then((function(){t.track.stopCarAnimation(),t.abortController.abort(),t.track.reset()})).catch((function(){t.buttons.stop.removeAttribute("disabled"),t.setStatus(j.drive)})))},Wt=function(){var t=i(s().mark((function t(){var e,n,r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=K.carsList,n=K.carsCounter,r=K.pagination,t.next=3,mt();case 3:e.updateCarsList(),n.update(),r.updateArrows();case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Xt=Wt,$t=function(){var t=i(s().mark((function t(){var e,n,r,a,i;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=K.editCarForm,n=e.nameInput,r=e.colorPicker,!e.car){t.next=12;break}return a={name:n.value,color:r.value},t.next=6,o=e.car.id,s=a,Ct(_.garage,o,s);case 6:return i=t.sent,e.car.color=i.color,e.car.name=i.name,e.disable(),t.next=12,St();case 12:case"end":return t.stop()}var o,s}),t)})));return function(){return t.apply(this,arguments)}}(),Jt=$t,Ht=function(){var t=i(s().mark((function t(){var e,n,r,a,i,o,c;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=K.carsList,n=K.carsCounter,r=K.pagination,a=K.createCarForm,i=a.nameInput,o=a.colorPicker,t.next=4,st({name:i.value,color:o.value});case 4:c=t.sent,a.clearInputs(),e.items.length<R.garage.limit&&e.drawItem(c),R.garage.items+=1,n.update(),r.updateArrows();case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Qt=Ht,Yt=function(){var t=K.carsList;return Promise.any(t.items.map((function(t){return zt(t)}))).then((function(t){if(t&&t.time)return n="The winner is ".concat((e=t).name," with time ").concat(e.time," seconds!"),r=m({tag:"div",classList:["modal-wrapper","opacity-zero"]}),a=m({tag:"div",classList:"modal-window"}),i=m({tag:"p",classList:"modal-text",innerText:n}),o=m({tag:"button",classList:"modal-close-button",innerText:"Close"}),a.append(i,o),r.append(a),document.body.append(r),document.body.style.overflow="hidden",setTimeout((function(){r.classList.remove("opacity-zero")}),16),r.addEventListener("click",qt),(s=t.id,xt(_.winners,s)).then((function(e){if(e&&t.time){var n={wins:e.wins+1,time:e.time>t.time?t.time:e.time};return function(t,e){return Ct(_.winners,t,e).then(St)}(t.id,n)}})).catch((function(e){if(404===e.status&&t.time)return function(t){return ot(_.winners,t).then(St)}({id:t.id,time:t.time,wins:1})}));var e,n,r,a,i,o,s}))},qt=function t(e){var n=e.target,r=e.currentTarget;if(Ft(n)&&Ft(r)){var a=n.classList.contains("modal-close-button");(n===r||a)&&I(r,(function(){r.remove(),document.body.removeAttribute("style")})),r.removeEventListener("click",t)}},Kt=function(){K.carsList.container.addEventListener("click",(function(t){var e=t.target;if(Ft(e)){if(e.classList.contains("car-button_delete")&&Ut(e).then((function(){return V.update()})),e.classList.contains("car-button_edit")&&function(t){var e=K.carsList.items.find((function(e){return e.buttons.edit===t}));e&&K.editCarForm.activate(e)}(e),e.classList.contains("car-button_start")){var n=K.carsList.items.find((function(t){return t.buttons.start===e}));zt(n)}if(e.classList.contains("car-button_stop")){var r=K.carsList.items.find((function(t){return t.buttons.stop===e}));Vt(r)}}}))},Zt=function(){K.garageButtons.addEventListener("click",(function(t){var e=t.target;Ft(e)&&(e.classList.contains("start-race-button")&&K.carsList.items.length&&Yt().then((function(){return V.update()})),e.classList.contains("generate-cars-button")&&Xt(),e.classList.contains("reset-race-button")&&function(){var t=K.carsList;Promise.allSettled(t.items.map((function(t){return Vt(t)})))}())}))},te=function(){K.createCarForm.form.addEventListener("submit",(function(t){t.preventDefault(),Qt()})),K.editCarForm.form.addEventListener("submit",(function(t){t.preventDefault(),Jt().then((function(){return V.update()}))})),Kt(),K.pagination.container.addEventListener("click",(function(t){return Dt(t,_.garage,i(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dt();case 2:K.update();case 3:case"end":return t.stop()}}),t)}))))})),V.pagination.container.addEventListener("click",(function(t){return Dt(t,_.winners,i(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,St();case 2:V.update();case 3:case"end":return t.stop()}}),t)}))))})),Zt(),V.header.container.addEventListener("click",(function(t){var e=t.target;if(Ft(e)&&e.dataset.name){var n=e.dataset.name;if(n===O.wins||n===O.time){R.winners.sort=n;var r=function(t){e.dataset.order=t,V.header.setOrder(n,t),R.winners.order=t};e.dataset.order===P.asc?r(P.desc):e.dataset.order!==P.desc&&e.dataset.order||r(P.asc),St().then((function(){var t=e.dataset.name===C.wins?C.wins:C.time;n&&V.header.update(t),V.update()}))}}}))},ee=function(){var t=i(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,dt();case 2:return t.next=4,St();case 4:(new et).init(),te();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();ee()}()}();